<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="Vue3&#43;Element-plus表单绑定数组后如何做验证" />
<meta property="og:description" content="在项目中其中一个页面需要验证一个订单下的多个物品出库数量，出库数量必须大于0，并且小于当前的库存数量，记录下实现过程。
最终实现效果如下图：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 &lt;templete&gt; &lt;el-form :model=&#34;form&#34; ref=&#34;form&#34;&gt; &lt;el-form-item label=&#34;活动名称&#34; prop=&#34;title&#34; class=&#34;form-item&#34; :rules=&#34;formRules." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cherishlau.github.io/post/vue3&#43;element-plus%E8%A1%A8%E5%8D%95%E7%BB%91%E5%AE%9A%E6%95%B0%E7%BB%84%E5%90%8E%E5%A6%82%E4%BD%95%E5%81%9A%E9%AA%8C%E8%AF%81/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-11-05T18:48:35+08:00" />
<meta property="article:modified_time" content="2022-11-05T18:48:35+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Vue3&#43;Element-plus表单绑定数组后如何做验证"/>
<meta name="twitter:description" content="在项目中其中一个页面需要验证一个订单下的多个物品出库数量，出库数量必须大于0，并且小于当前的库存数量，记录下实现过程。
最终实现效果如下图：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 &lt;templete&gt; &lt;el-form :model=&#34;form&#34; ref=&#34;form&#34;&gt; &lt;el-form-item label=&#34;活动名称&#34; prop=&#34;title&#34; class=&#34;form-item&#34; :rules=&#34;formRules."/>

  
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#262d33">
  <title>
    
    Sug3rs‘s Blog - Vue3&#43;Element-plus表单绑定数组后如何做验证
    
  </title>
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&display=swap"
    rel="stylesheet">
  
  
  
  <link rel="stylesheet" href="/minima.1679057685.css">

  
  
  <script defer type="text/javascript" src="/minima.1679057685.js"></script>
</head>
<script>
  
  let theme_2b_used = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';

  try {
    if (!('theme' in localStorage)) {
      const default_theme = 'system';
      
      
      if (default_theme === 'dark' || default_theme === 'light') {
        theme_2b_used = default_theme;
      }

      
      localStorage.theme = theme_2b_used;
    }
    
    document.querySelector('html').classList.add(localStorage.theme);
  } catch (e) {
    console.error(e);
  }
</script>


<body class=" sm:mx-5 sm:my-0">
  <header class="flex justify-between items-center mb-6 sm:my-3">
  <div class="flex items-center">
    
    <div id="theme-switcher" class="text-4xl cursor-pointer">🌝</div>
  </div>
  <nav class="flex items-center
    whitespace-nowrap overflow-x-auto overflow-y-hidden">
    
    <a class="ml-5" href="/">Home</a>
    
    <a class="ml-5" href="/categories">Categories</a>
    
    <a class="ml-5" href=""></a>
    
  </nav>
</header>
  
  

<h1 class="mt-6 mb-6">Vue3&#43;Element-plus表单绑定数组后如何做验证</h1>
<div class="mb-3 text-xs flex justify-between sm:flex-col">
	<div>
	
		Posted at &mdash; Nov 05, 2022
	
		
	</div>
	
</div>
<main>
	<p></p>
	<article class="md">
		<p>在项目中其中一个页面需要验证一个订单下的多个物品出库数量，出库数量必须大于0，并且小于当前的库存数量，记录下实现过程。</p>
<p>最终实现效果如下图：</p>
<p><img src="https://cherishlau.github.io/20221105134624.jpg" alt="20221105134624"></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">templete</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">el-form</span> <span class="nt">:model</span><span class="s">=&#34;form&#34;</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;form&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">el-form-item</span> <span class="na">label</span><span class="o">=</span><span class="s">&#34;活动名称&#34;</span> <span class="na">prop</span><span class="o">=</span><span class="s">&#34;title&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-item&#34;</span> <span class="nt">:rules</span><span class="s">=&#34;formRules.title&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">el-input</span> <span class="nt">v-model</span><span class="s">=&#34;form.title&#34; placeholder=&#34;请输入活动名称&#34;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;/el-form-item&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-form-item label=&#34;申请人&#34; prop=&#34;person&#34; class=&#34;form-item&#34; :rules=&#34;formRules.person&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;el-input v-model=&#34;form.person&#34; placeholder=&#34;请输入申请人姓名&#34;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;/el-form-item&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-form-item label=&#34;备品出库时间&#34; prop=&#34;date&#34; class=&#34;form-item&#34; :rules=&#34;formRules.date&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;el-date-picker
</span></span></span><span class="line"><span class="cl"><span class="s">                v-model=&#34;form.date&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">                type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">                value-format=&#34;YYYY-MM-DD&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">                placeholder=&#34;请选择时间&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;/el-form-item&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;!--待出库物品列表--&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-table :data=&#34;form.list&#34; class=&#34;table&#34; ref=&#34;table&#34; height=&#34;350&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-table-column prop=&#34;img&#34; label=&#34;物品封面&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;template #default=&#34;scope&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                &lt;el-image :src=&#34;scope.row.image&#34; :preview-src-list=&#34;[scope.row.image]&#34; :preview-teleported=&#34;true&#34; :z-index=&#34;9999&#34;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;/template&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;/el-table-column&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-table-column prop=&#34;identifier&#34; label=&#34;编号&#34;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-table-column prop=&#34;title&#34; label=&#34;品名&#34;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-table-column prop=&#34;count&#34; label=&#34;当前库存&#34;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-table-column label=&#34;出库数量&#34; width=&#34;240&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;template #default=&#34;scope&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;!--指定自定义验证规则rules,此处不需要加message,否则会覆盖掉自定义验证的message--&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;!--outnum为填写的出库数量--&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                &lt;el-form-item 
</span></span></span><span class="line"><span class="cl"><span class="s">                :prop=&#34;`list[${scope.$index}].outnum`&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">                :rules=&#34;{required:true,validator:validateNum,trigger:&#39;blur&#39;,index:scope.$index}&#34; 
</span></span></span><span class="line"><span class="cl"><span class="s">                &gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                    &lt;el-input
</span></span></span><span class="line"><span class="cl"><span class="s">                        v-model=&#34;form.list[scope.$index].outnum&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">                        type=&#34;number&#34; oninput=&#34;value=value.replace(/^0|[^0-9]/g, &#39;&#39;)&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                    &lt;/el-input&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                &lt;/el-form-item&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;/template&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;/el-table-column&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">        &lt;el-table-column label=&#34;操作&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">            &lt;template #default=&#34;scope&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                &lt;el-popconfirm title=&#34;确定从出库列表中移除吗？&#34; @confirm=&#34;confirmEvent(scope.row, scope.$index)&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                    &lt;template #reference&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                    &lt;el-button type=&#34;danger&#34; size=&#34;small&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">                        &lt;el-icon class=&#34;el-icon&#34;</span><span class="p">&gt;&lt;</span><span class="nt">Delete</span> <span class="p">/&gt;</span><span class="o">&lt;</span><span class="err">/el-icon&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/el-button&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="o">&lt;</span><span class="err">/el-popconfirm&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/el-table-column&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/el-table&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/el-form&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">templete</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">...</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">  后台接口返回数据如下：
</span></span></span><span class="line"><span class="cl"><span class="cm">  &#34;data&#34;: [{
</span></span></span><span class="line"><span class="cl"><span class="cm">		&#34;id&#34;: 12,
</span></span></span><span class="line"><span class="cl"><span class="cm">		&#34;title&#34;: &#34;活动1&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">		&#34;person&#34;: &#34;刘&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">		&#34;date&#34;: &#34;2022-11-06&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">		&#34;list&#34;: [{
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;id&#34;: &#34;7&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;title&#34;: &#34;type-c数据线&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;image&#34;: &#34;http:\/\/192.168.1.11\/upload\/image\/c1\/f679d57b3519d019e50f4587912f3644729183.jpg&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;identifier&#34;: &#34;002&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;count&#34;: &#34;3&#34;, //当前库存数量
</span></span></span><span class="line"><span class="cl"><span class="cm">			}, 
</span></span></span><span class="line"><span class="cl"><span class="cm">			{
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;id&#34;: &#34;5&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;title&#34;: &#34;type-c数据线（黑）&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;image&#34;: &#34;http:\/\/192.168.1.11\/upload\/image\/70\/d2c13d1313be2fb4d355514688698693db3245.jpg&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;identifier&#34;: &#34;001&#34;,
</span></span></span><span class="line"><span class="cl"><span class="cm">                &#34;count&#34;: &#34;3&#34;, //当前库存数量
</span></span></span><span class="line"><span class="cl"><span class="cm">			}
</span></span></span><span class="line"><span class="cl"><span class="cm">		],
</span></span></span><span class="line"><span class="cl"><span class="cm">		&#34;create_time&#34;: &#34;2022-11-05 10:08:09&#34;
</span></span></span><span class="line"><span class="cl"><span class="cm">	}]
</span></span></span><span class="line"><span class="cl"><span class="cm">  */</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">formRules</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">title</span><span class="o">:</span><span class="p">[{</span><span class="nx">required</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s1">&#39;活动标题不能为空&#39;</span><span class="p">,</span><span class="nx">trigger</span><span class="o">:</span><span class="s1">&#39;blur&#39;</span><span class="p">}],</span>
</span></span><span class="line"><span class="cl">            <span class="nx">date</span><span class="o">:</span><span class="p">[{</span><span class="nx">required</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s1">&#39;请选择时间&#39;</span><span class="p">,</span><span class="nx">trigger</span><span class="o">:</span><span class="s1">&#39;change&#39;</span><span class="p">}],</span>
</span></span><span class="line"><span class="cl">            <span class="nx">person</span><span class="o">:</span><span class="p">[{</span><span class="nx">required</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s1">&#39;请填写申请人&#39;</span><span class="p">,</span><span class="nx">trigger</span><span class="o">:</span><span class="s1">&#39;blur&#39;</span><span class="p">}],</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">form</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">id</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">title</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">person</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">date</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">create_time</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">list</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">...</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//此处为需增加验证的数组列表
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="p">...</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="c1">//自定义验证方法，传入数组的index
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>     <span class="nx">validateNum</span><span class="p">(</span><span class="nx">rule</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">callback</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//1.通过rule.index拿到当前验证的数组项目索引
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//2.然后获取数组中的对象 this.form.list[rule.index],value为当前input内填写物品的出库数量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">row</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">form</span><span class="p">.</span><span class="nx">list</span><span class="p">[</span><span class="nx">rule</span><span class="p">.</span><span class="nx">index</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//3.判断出库数量是否大于0，并且小于当前库存
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="nx">isInteger</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">row</span><span class="p">.</span><span class="nx">count</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">callback</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;出库数量不能大于当前库存&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">callback</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">callback</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;请输入大于0的整数&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
	</article>
</main>





	

	

	



  <footer class="mt-8 flex sm:flex-col-reverse justify-between items-center">
  <p class="mt-0 text-sm">
    © Cherishlau 2022 |
    <a href="https://gohugo.io" target="_blank" rel="noopener noreferrer">Hugo</a> on
    <a href="https://github.com/mivinci/hugo-theme-minima" target="_blank" rel="noopener noreferrer">Minima</a>
  </p>
  <p class="flex items-center mt-0">
    
      <a class="icon mx-2" href="" title="github">
      
        <svg fill="#63636f" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      
      </a>
    
      <a class="icon mx-2" href="" title="linkedin">
      
        <svg fill="#0073b1" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
      
      </a>
    
      <a class="icon mx-2" href="" title="twitter">
      
        <svg fill="#1da1f2" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>
      
      </a>
    
      <a class="icon mx-2" href="/index.xml" title="rss">
      
        <svg fill="#63636f" t="1626591563876" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1984" width="18" height="16"><path d="M128 768a128 128 0 1 0 0 256 128 128 0 0 0 0-256zM0 368v176c265.104 0 480 214.912 480 480h176c0-362.32-293.696-656-656-656zM0 0v176c468.336 0 848 379.664 848 848h176C1024 458.464 565.536 0 0 0z" p-id="1985"></path></svg>
      
      </a>
    
  </p>
</footer>
</body>
</html>